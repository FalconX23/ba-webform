
var plainConentLinks={externalLinksInNewWindow:false,internalDomain:"",sel:{conentWrapper:".article-container-wrapper .article-container-public-content"},init:function(){if(jQuery(plainConentLinks.sel.conentWrapper).length===0){return false;}
return plainConentLinks.fixArticleContainers();},fixArticleContainers:function(){jQuery(plainConentLinks.sel.conentWrapper).each(function(){plainConentLinks.fixLinks(jQuery(this));});return true;},fixLinks:function(articleContainer){if(typeof(articleContainer)==="undefined"){return false;}
var urlRegex=/(https?:\/\/[^\s]+)/g;var links=articleContainer.text().match(urlRegex);if(links===null){return false;}
if(plainConentLinks.internalDomain===""){plainConentLinks.internalDomain=window.location.host;}
var hLinkHtml="";var articleContent=articleContainer.html();var hFilter=[];for(var i in links){if(typeof(links[i])!=="string"){continue;}
hFilter=[];articleContainer.find("a").filter(function(){if(jQuery(this).text().indexOf(links[i])>-1){return true;}
return false;}).each(function(){hFilter.push(jQuery(this).prop("tagName"));});if(hFilter.length>0){continue;}
if((links[i].indexOf(plainConentLinks.internalDomain)===-1)&&(plainConentLinks.externalLinksInNewWindow===true)){hLinkHtml=plainConentLinks.externalLinkPattern(links[i]);}
else{hLinkHtml=plainConentLinks.internalLinkPattern(links[i]);}
articleContent=articleContent.replace(links[i],hLinkHtml);}
articleContainer.html(articleContent);return true;},internalLinkPattern:function(linkHref){return"<a href='"+linkHref+"'>"+linkHref+"</a>";},externalLinkPattern:function(linkHref){return"<a class='external-link' target='_blank' href='"+linkHref+"'>"+linkHref+"</a>";}};plainConentLinks.init();